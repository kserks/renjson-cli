#! /usr/bin/env node
process.title = require('../package.json').name

const
  gutil                = require('gulp-util'),
  msg                  = require('../data/messages.json'),
  main                 = require('../core/main'),
  pkg                  = require('../package.json'),
  program              = require('commander');

/**
 * @undefined command
 */
program
  .command('*')
  .description('command undefined')
  .action((env)=>{
		gutil.log(`${gutil.colors.magenta(msg['cmd404'][0])} [${gutil.colors.red(env)}] ${gutil.colors.magenta(msg['cmd404'][1])}`);
  });

/**
 * @help
 */
program
  .command('help')
  .description('list commands')
  .action(()=>{
	  program.outputHelp();
  });

/**
 * @project initialization
 */  
program
  .command('init <name>')
  .description('project initialization')
  .action((name)=>{
	  main['init'](name);
  });

/**
 * @project build
 */  
program
  .command('build')
  .description('project build')
  .action(()=>{
	  main['build']();
  });

/**
 * @project run
 */  
program
  .command('run')
  .description('project run')
  .action(()=>{
	  main['run']();
  });

/**
 * @vesion
 */  
program
  .command('v')
  .description('version')
  .action(()=>{
   gutil.log(gutil.colors.cyan(pkg.version));
  });

/**
 * @remove
 */  
program
  .command('remove <path>')
  .description('remove')
  .action((path)=>{
    main['remove'](path);
  });

/**
 * @dev-dest
 */
program
	.command('test')
	.description('dev-test')
	.action(()=>{
		main['test']();
	});	

program.parse(process.argv);	
